{"version":3,"sources":["webpack:///src/views/pms/productCate/components/ProductCateDetail.vue","webpack:///./src/views/pms/productCate/components/ProductCateDetail.vue?23d8","webpack:///./src/views/pms/productCate/components/ProductCateDetail.vue","webpack:///src/views/pms/productCate/add.vue","webpack:///./src/views/pms/productCate/add.vue?7d3b","webpack:///./src/views/pms/productCate/add.vue"],"names":["defaultProductCate","description","icon","keywords","name","navStatus","parentId","productUnit","showStatus","sort","productAttributeIdList","ProductCateDetail","components","SingleUpload","props","isEdit","type","Boolean","default","data","productCate","assign_default","selectProductCateList","rules","required","message","trigger","min","max","filterAttrs","filterProductAttrList","value","created","_this","this","Object","$route","query","id","then","response","productAttr","length","i","push","key","Date","now","attributeCategoryId","attributeId","getSelectProductCateList","getProductAttrCateList","methods","_this2","pageSize","pageNum","list","unshift","_this3","productAttrCate","children","productAttributeList","j","label","getProductAttributeIdList","item","onSubmit","formName","_this4","$refs","validate","valid","$message","duration","$confirm","confirmButtonText","cancelButtonText","$router","back","resetFields","resetForm","removeFilterAttr","productAttributeId","index","indexOf","splice","handleAddFilterAttr","filters","filterLabelFilter","components_ProductCateDetail","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","shadow","ref","model","label-width","prop","callback","$$v","$set","expression","_v","placeholder","_l","filterProductAttr","_f","clearable","options","staticStyle","margin-left","on","click","$event","preventDefault","size","autosize","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","add","productCate_add","is-edit"],"mappings":"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","file":"static/js/11.e562e63f752101cc7c85.js","sourcesContent":["<template>\r\n  <el-card class=\"form-container\" shadow=\"never\">\r\n    <el-form :model=\"productCate\"\r\n             :rules=\"rules\"\r\n             ref=\"productCateFrom\"\r\n             label-width=\"150px\">\r\n      <el-form-item label=\"分类名称：\" prop=\"name\">\r\n        <el-input v-model=\"productCate.name\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"上级分类：\">\r\n        <el-select v-model=\"productCate.parentId\"\r\n                   placeholder=\"请选择分类\">\r\n          <el-option\r\n            v-for=\"item in selectProductCateList\"\r\n            :key=\"item.id\"\r\n            :label=\"item.name\"\r\n            :value=\"item.id\">\r\n          </el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"数量单位：\">\r\n        <el-input v-model=\"productCate.productUnit\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"排序：\">\r\n        <el-input v-model=\"productCate.sort\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"是否显示：\">\r\n        <el-radio-group v-model=\"productCate.showStatus\">\r\n          <el-radio :label=\"1\">是</el-radio>\r\n          <el-radio :label=\"0\">否</el-radio>\r\n        </el-radio-group>\r\n      </el-form-item>\r\n      <el-form-item label=\"是否显示在导航栏：\">\r\n        <el-radio-group v-model=\"productCate.navStatus\">\r\n          <el-radio :label=\"1\">是</el-radio>\r\n          <el-radio :label=\"0\">否</el-radio>\r\n        </el-radio-group>\r\n      </el-form-item>\r\n      <el-form-item label=\"分类图标：\">\r\n        <single-upload v-model=\"productCate.icon\"></single-upload>\r\n      </el-form-item>\r\n      <el-form-item v-for=\"(filterProductAttr, index) in filterProductAttrList\"\r\n                    :label=\"index | filterLabelFilter\"\r\n                    :key=\"filterProductAttr.key\"\r\n      >\r\n        <el-cascader\r\n          clearable\r\n          v-model=\"filterProductAttr.value\"\r\n          :options=\"filterAttrs\">\r\n        </el-cascader>\r\n        <el-button style=\"margin-left: 20px\" @click.prevent=\"removeFilterAttr(filterProductAttr)\">删除</el-button>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button size=\"small\" type=\"primary\" @click=\"handleAddFilterAttr()\">新增</el-button>\r\n      </el-form-item>\r\n      <el-form-item label=\"关键词：\">\r\n        <el-input v-model=\"productCate.keywords\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"分类描述：\">\r\n        <el-input type=\"textarea\" :autosize=\"true\" v-model=\"productCate.description\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"onSubmit('productCateFrom')\">提交</el-button>\r\n        <el-button v-if=\"!isEdit\" @click=\"resetForm('productCateFrom')\">重置</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\n  import {fetchList, createProductCate, updateProductCate, getProductCate} from '@/api/productCate';\r\n  import {fetchListWithAttr} from '@/api/productAttrCate';\r\n  import {getProductAttrInfo} from '@/api/productAttr';\r\n  import SingleUpload from '@/components/Upload/singleUpload';\r\n\r\n  const defaultProductCate = {\r\n    description: '',\r\n    icon: '',\r\n    keywords: '',\r\n    name: '',\r\n    navStatus: 0,\r\n    parentId: 0,\r\n    productUnit: '',\r\n    showStatus: 0,\r\n    sort: 0,\r\n    productAttributeIdList: []\r\n  };\r\n  export default {\r\n    name: \"ProductCateDetail\",\r\n    components: {SingleUpload},\r\n    props: {\r\n      isEdit: {\r\n        type: Boolean,\r\n        default: false\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        productCate: Object.assign({}, defaultProductCate),\r\n        selectProductCateList: [],\r\n        rules: {\r\n          name: [\r\n            {required: true, message: '请输入品牌名称', trigger: 'blur'},\r\n            {min: 2, max: 140, message: '长度在 2 到 140 个字符', trigger: 'blur'}\r\n          ]\r\n        },\r\n        filterAttrs: [],\r\n        filterProductAttrList: [{\r\n          value: []\r\n        }]\r\n      }\r\n    },\r\n    created() {\r\n      if (this.isEdit) {\r\n        getProductCate(this.$route.query.id).then(response => {\r\n          this.productCate = response.data;\r\n        });\r\n        getProductAttrInfo(this.$route.query.id).then(response => {\r\n          if (response.data != null && response.data.length > 0) {\r\n            this.filterProductAttrList = [];\r\n            for (let i = 0; i < response.data.length; i++) {\r\n              this.filterProductAttrList.push({\r\n                key: Date.now() + i,\r\n                value: [response.data[i].attributeCategoryId, response.data[i].attributeId]\r\n              })\r\n            }\r\n          }\r\n        });\r\n      } else {\r\n        this.productCate = Object.assign({}, defaultProductCate);\r\n      }\r\n      this.getSelectProductCateList();\r\n      this.getProductAttrCateList();\r\n    },\r\n    methods: {\r\n      getSelectProductCateList() {\r\n        fetchList(0, {pageSize: 100, pageNum: 1}).then(response => {\r\n          this.selectProductCateList = response.data.list;\r\n          this.selectProductCateList.unshift({id: 0, name: '无上级分类'});\r\n        });\r\n      },\r\n      getProductAttrCateList() {\r\n        fetchListWithAttr().then(response => {\r\n          let list = response.data;\r\n          for (let i = 0; i < list.length; i++) {\r\n            let productAttrCate = list[i];\r\n            let children = [];\r\n            if (productAttrCate.productAttributeList != null && productAttrCate.productAttributeList.length > 0) {\r\n              for (let j = 0; j < productAttrCate.productAttributeList.length; j++) {\r\n                children.push({\r\n                  label: productAttrCate.productAttributeList[j].name,\r\n                  value: productAttrCate.productAttributeList[j].id\r\n                })\r\n              }\r\n            }\r\n            this.filterAttrs.push({label: productAttrCate.name, value: productAttrCate.id, children: children});\r\n          }\r\n        });\r\n      },\r\n      getProductAttributeIdList() {\r\n        //获取选中的筛选商品属性\r\n        let productAttributeIdList = [];\r\n        for (let i = 0; i < this.filterProductAttrList.length; i++) {\r\n          let item = this.filterProductAttrList[i];\r\n          if (item.value !== null && item.value.length === 2) {\r\n            productAttributeIdList.push(item.value[1]);\r\n          }\r\n        }\r\n        return productAttributeIdList;\r\n      },\r\n      onSubmit(formName) {\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            this.$confirm('是否提交数据', '提示', {\r\n              confirmButtonText: '确定',\r\n              cancelButtonText: '取消',\r\n              type: 'warning'\r\n            }).then(() => {\r\n              if (this.isEdit) {\r\n                this.productCate.productAttributeIdList = this.getProductAttributeIdList();\r\n                updateProductCate(this.$route.query.id, this.productCate).then(response => {\r\n                  this.$message({\r\n                    message: '修改成功',\r\n                    type: 'success',\r\n                    duration: 1000\r\n                  });\r\n                  this.$router.back();\r\n                });\r\n              } else {\r\n                this.productCate.productAttributeIdList = this.getProductAttributeIdList();\r\n                createProductCate(this.productCate).then(response => {\r\n                  this.$refs[formName].resetFields();\r\n                  this.resetForm(formName);\r\n                  this.$message({\r\n                    message: '提交成功',\r\n                    type: 'success',\r\n                    duration: 1000\r\n                  });\r\n                });\r\n              }\r\n            });\r\n\r\n          } else {\r\n            this.$message({\r\n              message: '验证失败',\r\n              type: 'error',\r\n              duration: 1000\r\n            });\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n      resetForm(formName) {\r\n        this.$refs[formName].resetFields();\r\n        this.productCate = Object.assign({}, defaultProductCate);\r\n        this.getSelectProductCateList();\r\n        this.filterProductAttrList = [{\r\n          value: []\r\n        }];\r\n      },\r\n      removeFilterAttr(productAttributeId) {\r\n        if (this.filterProductAttrList.length === 1) {\r\n          this.$message({\r\n            message: '至少要留一个',\r\n            type: 'warning',\r\n            duration: 1000\r\n          });\r\n          return;\r\n        }\r\n        var index = this.filterProductAttrList.indexOf(productAttributeId);\r\n        if (index !== -1) {\r\n          this.filterProductAttrList.splice(index, 1)\r\n        }\r\n      },\r\n      handleAddFilterAttr() {\r\n        if (this.filterProductAttrList.length === 3) {\r\n          this.$message({\r\n            message: '最多添加三个',\r\n            type: 'warning',\r\n            duration: 1000\r\n          });\r\n          return;\r\n        }\r\n        this.filterProductAttrList.push({\r\n          value: null,\r\n          key: Date.now()\r\n        });\r\n      }\r\n    },\r\n    filters: {\r\n      filterLabelFilter(index) {\r\n        if (index === 0) {\r\n          return '筛选属性：';\r\n        } else {\r\n          return '';\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/pms/productCate/components/ProductCateDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-card',{staticClass:\"form-container\",attrs:{\"shadow\":\"never\"}},[_c('el-form',{ref:\"productCateFrom\",attrs:{\"model\":_vm.productCate,\"rules\":_vm.rules,\"label-width\":\"150px\"}},[_c('el-form-item',{attrs:{\"label\":\"分类名称：\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.productCate.name),callback:function ($$v) {_vm.$set(_vm.productCate, \"name\", $$v)},expression:\"productCate.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"上级分类：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择分类\"},model:{value:(_vm.productCate.parentId),callback:function ($$v) {_vm.$set(_vm.productCate, \"parentId\", $$v)},expression:\"productCate.parentId\"}},_vm._l((_vm.selectProductCateList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"数量单位：\"}},[_c('el-input',{model:{value:(_vm.productCate.productUnit),callback:function ($$v) {_vm.$set(_vm.productCate, \"productUnit\", $$v)},expression:\"productCate.productUnit\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"排序：\"}},[_c('el-input',{model:{value:(_vm.productCate.sort),callback:function ($$v) {_vm.$set(_vm.productCate, \"sort\", $$v)},expression:\"productCate.sort\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否显示：\"}},[_c('el-radio-group',{model:{value:(_vm.productCate.showStatus),callback:function ($$v) {_vm.$set(_vm.productCate, \"showStatus\", $$v)},expression:\"productCate.showStatus\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"是\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"否\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否显示在导航栏：\"}},[_c('el-radio-group',{model:{value:(_vm.productCate.navStatus),callback:function ($$v) {_vm.$set(_vm.productCate, \"navStatus\", $$v)},expression:\"productCate.navStatus\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"是\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"否\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"分类图标：\"}},[_c('single-upload',{model:{value:(_vm.productCate.icon),callback:function ($$v) {_vm.$set(_vm.productCate, \"icon\", $$v)},expression:\"productCate.icon\"}})],1),_vm._v(\" \"),_vm._l((_vm.filterProductAttrList),function(filterProductAttr,index){return _c('el-form-item',{key:filterProductAttr.key,attrs:{\"label\":_vm._f(\"filterLabelFilter\")(index)}},[_c('el-cascader',{attrs:{\"clearable\":\"\",\"options\":_vm.filterAttrs},model:{value:(filterProductAttr.value),callback:function ($$v) {_vm.$set(filterProductAttr, \"value\", $$v)},expression:\"filterProductAttr.value\"}}),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-left\":\"20px\"},on:{\"click\":function($event){$event.preventDefault();_vm.removeFilterAttr(filterProductAttr)}}},[_vm._v(\"删除\")])],1)}),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.handleAddFilterAttr()}}},[_vm._v(\"新增\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"关键词：\"}},[_c('el-input',{model:{value:(_vm.productCate.keywords),callback:function ($$v) {_vm.$set(_vm.productCate, \"keywords\", $$v)},expression:\"productCate.keywords\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"分类描述：\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":true},model:{value:(_vm.productCate.description),callback:function ($$v) {_vm.$set(_vm.productCate, \"description\", $$v)},expression:\"productCate.description\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.onSubmit('productCateFrom')}}},[_vm._v(\"提交\")]),_vm._v(\" \"),(!_vm.isEdit)?_c('el-button',{on:{\"click\":function($event){_vm.resetForm('productCateFrom')}}},[_vm._v(\"重置\")]):_vm._e()],1)],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6a32fc9b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/pms/productCate/components/ProductCateDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6a32fc9b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ProductCateDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ProductCateDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ProductCateDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6a32fc9b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ProductCateDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6a32fc9b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/pms/productCate/components/ProductCateDetail.vue\n// module id = null\n// module chunks = ","<template> \r\n  <product-cate-detail :is-edit='false'></product-cate-detail>\r\n</template>\r\n<script>\r\n  import ProductCateDetail from './components/ProductCateDetail'\r\n  export default {\r\n    name: 'addProductCate',\r\n    components: { ProductCateDetail }\r\n  }\r\n</script>\r\n<style>\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/pms/productCate/add.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('product-cate-detail',{attrs:{\"is-edit\":false}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-368b738a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/pms/productCate/add.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-368b738a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./add.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-368b738a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./add.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/pms/productCate/add.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}